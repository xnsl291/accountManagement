# 프로젝트 설명
프로그램 내에서 주식 매매 및, 예수금 입금/ 출금/ 송금이 가능하다.<br>
주식 현재 잔고 및 주식 거래 내역, 계좌 거래 내역을 조회할 수 있다. <br>
또한, 주식 종목 검색과 계좌 검색도 가능하다.

# 프로젝트 기능

1. 회원가입
   - 회원가입 시 `이름, 전화번호, 로그인 비밀번호`를 입력한다.
   - 회원가입을 완료 하기 위해서는 `전화번호 문자 인증`이 필수이다.
   - 중복된 전화번호는 존재하지 않는다
---
2. 로그인 / 로그아웃
   - 전화번호와 비밀번호로 로그인 할 수 있다.
   - 비밀번호 오류는 `최대 3회`까지 가능하다.
   - 비밀번호를 잊어버렸거나, 3회 틀리면 핸드폰 인증을 통해 비밀번호를 재설정하여야 한다.
   - 회원가입과 로그인을 제외한 모든 기능은 로그인 후 사용 가능하다.
---
3. 계좌 관리 (개설 / 해지 / 수정 / 조회 )
   - 회원가입시, 자동으로 1개의 계좌가 개설된다.
   - 초기 개설되는 계좌의 별명은 기본값으로 설정된다.
   - 모든 회원은 최소 1개의 계좌를 보유해야 한다.
   - 계좌를 추가 개설 및 해지 할 수 있다.
   - 회원이 2개 이상의 계좌를 보유할 경우에만 계좌를 해지할 수 있다.
   - 회원은 자신이 보유한 모든 계좌의 `계좌별명`과 `계좌 비밀번호`를 수정할 수 있다.
   - 계좌 목록 조회시, 본인 명의의 계좌번호와 해당 계좌의 잔액(예수금)을 볼 수 있다.
---
4. 계좌 거래 (입금 / 출금 / 송금 )
   - 프로그램에 등록된 계좌 한에서만 거래가 가능하다.
   - 계좌번호를 입력하면, 자신의 계좌에 한에서 입금 / 출금 할 수 있다.
   - 단, 출금 금액은 본인의 잔액(예수금)을 초과할 수 없다.
   - 주식을 매도하는 즉시 잔액 출금이 가능하다. **(*변경예정)**
   - 거래하고자 하는 계좌번호를 입력하면, 계좌 소유주의 이름을 확인할 수 있다. (단, 미리 등록되어 있어야 한다.)
   - 계좌 거래시, 계좌비밀번호를 입력하여야 하며, 일치하지 않으면 거래를 할 수 없다.
   - 비밀번호는 5회까지 재입력 가능하며, 이후에는 핸드폰 인증을 통해 재설정하여야 한다.
---
5. 계좌 거래 내역 조회
   - 본인 계좌 별 거래 내역을 조회할 수 있다.
   - 거래 일시, 거래 대상, 금액 등을 확인할 수 있다.
   - 거래 내역은 최근순으로 조회되며, 기본적으로 해당 월의 거래내역이 보여진다.
   - 특정 기간만 필터링해서 조회할 수 있다.
---
6. 주식 거래 (매수 / 매도)
   - 주식의 현재 시세정보는 증권사 API을 통해 받아온다.
   - 각 계좌마다 각자 주식을 매매할 수 있으며, 계좌 간 독립적으로 존재한다.
   - 현재 가격을 기준으로 주식을 매수/ 매도가 가능하다
   - 주식 매매시 금액과 종목코드, 수량 정보가 필요하다
   - 매수는 잔고(예수금) 내에서 구매 가능하다.
   - 기존에 보유하고 있는 주식을 추가 구매시, `총 구매 금액 / 총 구매 수량`으로 계산하여 평균단가를 변경한다.
   - 매도 가능 수량은 본인 보유수량을 초과할 수 없다.
   - 매수/ 매도시 계좌 비밀번호를 입력하여야 하며, 일치하지 않으면 거래를 할 수 없다.
   - 비밀번호는 5회까지 재입력 가능하며, 이후에는 핸드폰 인증을 통해 재설정하여야 한다.
---
7. 조회 ( 현재 주식 잔고 / 주식 매매 내역 )
   - 현재 보유하고 있는 주식 리스트를 볼 수 있으며, 종목코드, 평균단가, 수량, 평가손익의 정보를 포함하고 있다.
   - 매매 내역은 최근순으로 조회되며, 기본적으로 해당 월의 거래내역이 보여진다.
   - 매매내역 조회시, 종목코드, 매매일시, 매매가, 수량, 손익정보 조회할 수 있다.
   - 특정 기간만 필터링해서 조회할 수 있다.
---
8. 검색 (계좌 / 종목)
   - 계좌번호, 계좌별명, 계좌 소유주명 등을 이용하여 계좌를 검색할 수 있다.
   - 기존에 등록된 계좌에 한에서 검색할 수 있다.
   - 본인의 계좌일 경우, 계좌번호와 잔액을 조회할 수 있다.
   - 타인의 계좌일 경우 계좌번호, 계좌 소유주명을 확인할 수 있다.
   - 종목코드를 입력하면, 해당 종목의 현재 가격을 조회할 수 있다.

# ERD
![img.png](doc/img/img.png)

# API 명세
https://wiry-mimosa-01b.notion.site/API-5b1ccf98ee834a2689915d3833ca3e63?pvs=4

# 사용 기술
- Java 11
- Spring
- Spring Security
- Mysql
- Redis

# 추가/변경 예정
- 출금/ 송금은 매매일로부터 2일 뒤부터 가능하다. -> D-1예수금, D-2예수금 조회가능
- 친구 리스트(즐겨찾기 목록)을 생성하여 빠른 거래(송금)를 가능하게 한다
- 관심주를 저장해놓고, 편하게 시세를 확인할 수 있다.
- [시세를 크롤링으로 받아올 경우] 주식 가격 실시간 반영 / 평가손익 실시간 반영
- 알림기능 (매매시, 혹은 주식이 특정 금액에 도달시 )
